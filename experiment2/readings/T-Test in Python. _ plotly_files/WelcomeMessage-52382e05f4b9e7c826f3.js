(window.driftWebpackJsonp=window.driftWebpackJsonp||[]).push([[16],{1377:function(e,t,r){"use strict";var s=r(192),n=r(258),o=r.n(n),a=r(456),i=r(10);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["foregroundColor","backgroundColor","activeColor","textColor"];return Object(s.connect)(o()(function(e){return function(t){return Object(a.a)(t,e)}}(e),i.o),function(){return{}})}},1378:function(e,t,r){"use strict";(function(e){var s=r(5),n=r.n(s),o=r(369),a=r.n(o),i=r(148),_=r(1374),c=r.n(_),l=r(192),p=r(42),u=r(1389),d=r.n(u),m=r(258),h=r.n(m),E=r(214),f=r(87),P=r(9),g=r(1386),M=r.n(g),C=r(149),b=r(1385),v=r.n(b);t.a=h()(Object(l.connect)(function(e){return{utmSource:e.Targeting.page.hostname,isEmbeddedMessenger:Object(f.g)(e)}},function(e){return{actions:Object(p.bindActionCreators)({trackClick:E.b},e)}}),d()({onClick:function(e){return function(t){t.stopPropagation(),e.actions.trackClick({view:e.utmContent,ctaType:"branding"})}}}))(function(t){var r=t.className,s=t.message,o=void 0===s?C.a.poweredBy:s,_=t.utmContent,l=t.utmSource,p=void 0===l?"widget":l,u=t.onClick,d=t.isEmbeddedMessenger,m={utm_source:p,utm_medium:"web-widget",utm_campaign:"widget-referral",utm_content:_},h=e.createElement("span",null,e.createElement("span",{className:v.a.SROnly},"powered"),e.createElement("span",{"aria-hidden":"true"},e.createElement(c.a,{className:v.a.BoltIcon,src:M.a}))),E=e.createElement("div",{className:v.a.Drift},e.createElement("span",{className:v.a.Drift},"Drift")),f=e.createElement(i.b,n()({},o,{values:{bolt:h,drift:E}}));return e.createElement("a",{className:a()("flex",v.a.Branding,r,{floating:d}),href:"https://www.drift.com/powered-by/?"+Object(P.c)(m),target:"_blank",onClick:u},f)})}).call(this,r(13))},1381:function(e,t,r){"use strict";(function(e){r.d(t,"b",function(){return c}),r.d(t,"a",function(){return l});var s=r(213),n=r.n(s),o=r(5),a=r.n(o),i=r(13),_=r(148),c=Object(_.h)({composerPlaceholder:{id:"app.composer.placeholder",description:"Placeholder text in the Composer",defaultMessage:"Type your message…"},composerLeaveMessageForPlaceholder:{id:"app.composer.leaveMessageForPlaceholder",description:"Placeholder text displayed in existing conversations when offline",defaultMessage:"Leave a message for {name}"},composerLeaveMessagePlaceholder:{id:"app.composer.leaveMessagePlaceholder",description:"Placeholder text displayed in new conversations when offline",defaultMessage:"Leave a message…"},composerReplyToPlaceholder:{id:"app.composer.replyToPlaceholder",description:"Placeholder text displayed in existing conversations",defaultMessage:"Reply to {name}"},composerLeaveMessage:{id:"app.composer.leaveMessage",description:"Action button to leave a message",defaultMessage:"Leave Message"},composerSendMessage:{id:"app.composer.sendMessage",description:"Action button to send a message",defaultMessage:"Send Message"},composerDisabledForConversation:{id:"app.composer.disabledForConversation",description:"Disabled composer prompt forever for this conversation",defaultMessage:"Cannot respond to this conversation"},composerDisabledUseButtons:{id:"app.composer.disabledUseButtons",description:"Disabled composer prompt to point the user at buttons",defaultMessage:"Choose an option above..."},composerBrandingChatWith:{id:"app.composer.footer.chatWith",description:"Alternate branding with simple chat prompt",defaultMessage:"Chat with {orgName}"},returnKey:{id:"system.key.return",description:"The return key on the keyboard",defaultMessage:"return"},enterKey:{id:"system.key.enter",description:"The enter key on the keyboard",defaultMessage:"enter"},sendKeyHint:{id:"app.composer.sendKeyHint",description:"Hint text for sending messages by hitting the return/enter key",defaultMessage:"{key} to send"}});function l(t){var r=function(r){var s=r.intl,o=r.conversationLastDriftUser,i=r.isAway,_=r.disabled,l=r.disabledPrompt,p=r.isConversationPermaclosed,u=n()(r,["intl","conversationLastDriftUser","isAway","disabled","disabledPrompt","isConversationPermaclosed"]),d=void 0;return d=p?s.formatMessage(c.composerDisabledForConversation):_&&l?s.formatMessage(c.composerDisabledUseButtons):o&&o.name?i?s.formatMessage(c.composerLeaveMessageForPlaceholder,{name:o.name}):s.formatMessage(c.composerReplyToPlaceholder,{name:o.name}):i?s.formatMessage(c.composerLeaveMessagePlaceholder):s.formatMessage(c.composerPlaceholder),e.createElement(t,a()({placeholder:d,isAway:i,disabled:_,disabledPrompt:l},u))};return r.propTypes={intl:_.j.isRequired},Object(_.i)(r)}i.PropTypes.bool.isRequired}).call(this,r(13))},1383:function(e,t){e.exports='<svg width="17" height="17" viewBox="0 0 17 17" xmlns="http://www.w3.org/2000/svg"><path d="M9.502 8.5l7.29 7.29c.277.278.277.727 0 1.003-.137.138-.32.207-.5.207s-.362-.07-.5-.207L8.5 9.503l-7.29 7.29c-.14.138-.32.207-.5.207-.183 0-.364-.07-.502-.207-.277-.276-.277-.725 0-1.002l7.29-7.29-7.29-7.29C-.07.932-.07.483.208.206c.277-.276.725-.276 1 0L8.5 7.497l7.29-7.29c.277-.276.725-.276 1.002 0 .277.277.277.726 0 1.002L9.502 8.5z" fill-rule="evenodd"></path></svg>'},1385:function(e,t,r){e.exports={Branding:"_3RTrQ3IDR23myw-Pih9iTm",Drift:"_2DnvFT67sVeWYiwhwHqUWR",BoltIcon:"_2-Nax0W7eNYVpRQlg-K1Ud",SROnly:"VKsDPw3lGyZWHZWhQ7Yfh"}},1386:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9.15 12.64"><g data-name="Layer 2"><g data-name="Layer 1"><path fill="#fcf4a0" d="M6.58.75L.75 7.06h3.54l-1.95 4.83L8.4 5.24H4.57L6.58.75z"></path><path d="M6.58.75l-2 4.49H8.4l-6.06 6.65 2-4.83H.75L6.58.75m0-.75a.67.67 0 0 0-.37.11.65.65 0 0 0-.21.13L.2 6.55a.75.75 0 0 0 .55 1.26h2.43l-1.54 3.8a.76.76 0 0 0 .3.92.8.8 0 0 0 .4.11.74.74 0 0 0 .55-.24L9 5.75a.75.75 0 0 0-.6-1.26H5.73L7.24 1.1a.68.68 0 0 0 .09-.35.75.75 0 0 0-.74-.75zm0 1.5z" fill="#f4a51f"></path></g></g></svg>'},1387:function(e,t){e.exports='<svg width="13" height="13" viewBox="0 0 13 13" xmlns="http://www.w3.org/2000/svg"><path d="M12.975.38c.014.043.02.087.024.132v.06c-.004.048-.014.095-.03.14-.006.017-.007.032-.014.046L7.252 12.692c-.09.19-.28.308-.49.308-.216-.002-.406-.127-.493-.32l-.537-3.41C5.56 8.18 4.55 7.1 3.478 6.86l-3.2-.72c-.18-.1-.287-.293-.277-.5.012-.206.138-.39.328-.47L12.248.04 12.3.026c.05-.015.098-.025.148-.026.02 0 .038 0 .058.003.046.004.09.013.132.028l.055.02c.056.027.11.06.154.107.053.053.085.11.11.168.008.018.013.036.018.055z" fill-rule="evenodd"></path></svg>'},1390:function(e,t,r){"use strict";(function(e){var s=r(13),n=r(1398),o=r(1402),a=function(t){var r=t.user,s=t.color,a=t.shape,i=t.size,_=t.style;if(r&&r.bot&&!r.avatarUrl){var c="square"===a?"rect":a;return e.createElement(o.a,{className:"Avatar",type:c,color:s,style:_})}return e.createElement(n.a,{user:r,size:i,shape:a,style:_})};a.displayName="AvatarOrBotAvatar",a.propTypes={user:s.PropTypes.object,color:s.PropTypes.string,shape:s.PropTypes.oneOf(["circle","square"]),size:s.PropTypes.oneOf(["small","medium","large","extra-large","jumbo"]),style:s.PropTypes.object},a.defaultProps={shape:"circle",size:"small"},t.a=a}).call(this,r(13))},1391:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(React){var babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__),babel_runtime_core_js_object_get_prototype_of__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(127),babel_runtime_core_js_object_get_prototype_of__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(babel_runtime_core_js_object_get_prototype_of__WEBPACK_IMPORTED_MODULE_1__),babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(120),babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__),babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(166),babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(167),babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__),babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(165),babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__),react_redux__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(192),redux__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(42),classnames__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(369),classnames__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_8__),react_textarea_autosize__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(1395),react_textarea_autosize__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(react_textarea_autosize__WEBPACK_IMPORTED_MODULE_9__),utils_linkify__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(1425),react_addons_css_transition_group__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(1380),react_addons_css_transition_group__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(react_addons_css_transition_group__WEBPACK_IMPORTED_MODULE_11__),_BrandingCopy__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(1378),_ComposerMenu__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(1424),_Drawer__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(1420),_EmojiPicker__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(1417),_ConnectionStatus__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(1413),_SendMessageButton__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(1412),recompose_compose__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(258),recompose_compose__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(recompose_compose__WEBPACK_IMPORTED_MODULE_18__),Widget_containers_withTheme__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(1377),Widget_modules_Bootstrap__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(63),Widget_modules_Bootstrap_selectors__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(22),Widget_modules_Consent_selectors__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(101),Widget_selectors__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(4),Widget_selectors_bootstrap__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(10),Widget_modules_rating_selectors__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(454),Widget_modules_UI_selectors__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(87),utils_color__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(168),react_dropzone__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(1479),react_dropzone__WEBPACK_IMPORTED_MODULE_28___default=__webpack_require__.n(react_dropzone__WEBPACK_IMPORTED_MODULE_28__),_messages__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(1381),_AttachmentUploadProgress__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(1403),utils_UserAgentHelpers__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(104),lodash_es_get__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(12),_style_styl__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(1407),_style_styl__WEBPACK_IMPORTED_MODULE_33___default=__webpack_require__.n(_style_styl__WEBPACK_IMPORTED_MODULE_33__),svg_inline_react__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(1374),svg_inline_react__WEBPACK_IMPORTED_MODULE_34___default=__webpack_require__.n(svg_inline_react__WEBPACK_IMPORTED_MODULE_34__),_svg_inline_removeTags_true_removeSVGTagAttrs_false_images_paper_plane_solid_svg__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__(1387),_svg_inline_removeTags_true_removeSVGTagAttrs_false_images_paper_plane_solid_svg__WEBPACK_IMPORTED_MODULE_35___default=__webpack_require__.n(_svg_inline_removeTags_true_removeSVGTagAttrs_false_images_paper_plane_solid_svg__WEBPACK_IMPORTED_MODULE_35__),_React=React,Component=_React.Component,PropTypes=_React.PropTypes,Composer=function(_Component){function Composer(props){babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this,Composer);var _this,thisFn=function(){return _this}.toString(),thisName=thisFn.slice(thisFn.indexOf("return")+6+1,thisFn.indexOf(";")).trim();eval(thisName+" = this;"),_this.getShouldRenderEnterPrompt=_this.getShouldRenderEnterPrompt.bind(_this),_this.handleInputChange=_this.handleInputChange.bind(_this),_this.handleFocus=_this.handleFocus.bind(_this),_this.handleBlur=_this.handleBlur.bind(_this),_this.handleComposerMouseDown=_this.handleComposerMouseDown.bind(_this),_this.handleAttachmentIconClick=_this.handleAttachmentIconClick.bind(_this),_this.handleEmojiMenuButtonClick=_this.handleEmojiMenuButtonClick.bind(_this),_this.handleEmojiSelect=_this.handleEmojiSelect.bind(_this),_this.handleSubmit=_this.handleSubmit.bind(_this);var _this=babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,(Composer.__proto__||babel_runtime_core_js_object_get_prototype_of__WEBPACK_IMPORTED_MODULE_1___default()(Composer)).call(this,props));return _this.shouldRenderNewComposer=function(){var e=_this.props,t=e.conversation,r=e.hasConversationRatingGate;return e.isEmbeddedMessenger||r&&t&&t.get("id")},_this.shouldRenderNewEnterPrompt=function(){var e=_this.props,t=e.conversation,r=e.hasConversationRatingGate;return e.isEmbeddedMessenger||r&&t&&t.get("id")},_this.getTextAreaClassName=function(){return _this.shouldRenderNewComposer()?_style_styl__WEBPACK_IMPORTED_MODULE_33___default.a["Composer-textarea"]:""+classnames__WEBPACK_IMPORTED_MODULE_8___default()(_style_styl__WEBPACK_IMPORTED_MODULE_33___default.a["Composer-textarea"],_this.props.size)},_this.onKeyDown=function(e){13!=e.which&&13!=e.keyCode||_this.handleSubmit(e)},_this.state={input:"",focus:!1,emojiDrawerActive:!1},babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(_this)}return babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(Composer,_Component),babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(Composer,null,[{key:"initClass",value:function(){this.propTypes={onSubmit:PropTypes.func,onChange:PropTypes.func,onFocus:PropTypes.func,onInputMouseDown:PropTypes.func,onUploadAttachment:PropTypes.func,conversation:PropTypes.object,conversationLastDriftUser:PropTypes.object,placeholder:PropTypes.string,activeColor:PropTypes.string,showBranding:PropTypes.bool,hasActiveBorderOnFocus:PropTypes.bool,isAway:PropTypes.bool,size:PropTypes.oneOf(["medium","large"]),variant:PropTypes.oneOf(["regular","minimal"]),minRows:PropTypes.number,maxRows:PropTypes.number,autoFocus:PropTypes.bool,disabled:PropTypes.bool,disabledPrompt:PropTypes.bool,connectionStatus:PropTypes.oneOf(["pending","failure","success"]).isRequired,actions:PropTypes.shape({bootstrapEndUser:PropTypes.func.isRequired}).isRequired},this.defaultProps={showBranding:!0,isAway:!1,size:"large",variant:"regular",autoFocus:!0,disabled:!1,disabledPrompt:!1,minRows:1,maxRows:5,hasActiveBorderOnFocus:!0}}}]),babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(Composer,[{key:"renderBranding",value:function(){return React.createElement("div",{key:"branding",className:classnames__WEBPACK_IMPORTED_MODULE_8___default()("flex",this.props.variant,_style_styl__WEBPACK_IMPORTED_MODULE_33___default.a.Branding)},React.createElement(_BrandingCopy__WEBPACK_IMPORTED_MODULE_12__.a,{utmContent:this.props.utmContent}))}},{key:"renderEnterPrompt",value:function(){var e=this.props,t=e.connectionStatus,r=e.activeColor,s=e.isAway,n=e.isEmbeddedMessenger;return"success"===t&&this.shouldRenderNewEnterPrompt()?React.createElement("div",{key:"enter-prompt",className:classnames__WEBPACK_IMPORTED_MODULE_8___default()("new-enter-prompt",{"new-enter-prompt-clp":n})},React.createElement("button",{className:classnames__WEBPACK_IMPORTED_MODULE_8___default()("send-button",{"send-button-clp":n}),onClick:this.handleSubmit},React.createElement(svg_inline_react__WEBPACK_IMPORTED_MODULE_34___default.a,{src:_svg_inline_removeTags_true_removeSVGTagAttrs_false_images_paper_plane_solid_svg__WEBPACK_IMPORTED_MODULE_35___default.a}))):React.createElement("div",{key:"enter-prompt",className:"enter-prompt"},"success"===t&&React.createElement(_SendMessageButton__WEBPACK_IMPORTED_MODULE_17__.a,{color:r,onClick:this.handleSubmit,isAway:s}),"success"!==t&&React.createElement(_ConnectionStatus__WEBPACK_IMPORTED_MODULE_16__.a,{style:{marginTop:"2px"}}))}},{key:"getShouldRenderEnterPrompt",value:function(){return this.state.input.trim().length>0}},{key:"composerStyle",value:function(){return this.props.isEmbeddedMessenger?"floating":this.shouldRenderNewComposer()?"compact":"default"}},{key:"shouldRenderActiveComposerBorderColor",value:function(){return this.props.hasActiveBorderOnFocus&&this.state.focus&&!this.props.disabled&&!this.shouldRenderNewComposer()&&!this.props.isEmbeddedMessenger}},{key:"renderComposer",value:function(){var e,t=this,r=this.composerStyle(),s=Object(lodash_es_get__WEBPACK_IMPORTED_MODULE_32__.a)(this.props,"currentConsentPolicy.privacyPolicyLink"),n=Object(lodash_es_get__WEBPACK_IMPORTED_MODULE_32__.a)(this.props,"currentConsentPolicy.privacyPolicyLinkText");return React.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_8___default()("Composer",this.props.variant,r,(e={},babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(e,_style_styl__WEBPACK_IMPORTED_MODULE_33___default.a.hasActiveBorderOnFocus,this.props.hasActiveBorderOnFocus),babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(e,"disabled",this.props.disabled&&this.props.disabledPrompt),babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(e,"mobile",Object(utils_UserAgentHelpers__WEBPACK_IMPORTED_MODULE_31__.d)()),e)),style:{borderTopColor:this.shouldRenderActiveComposerBorderColor()?""+this.props.activeColor:void 0}},null!=this.props.conversation&&this.props.allowFileUpload&&React.createElement(_AttachmentUploadProgress__WEBPACK_IMPORTED_MODULE_30__.a,{uploadNewFile:this.handleAttachmentIconClick}),React.createElement("div",{className:"flex-column"},React.createElement("div",{className:"enter-to-send"},React.createElement("div",{className:this.state.focus||this.textarea&&this.textarea.value?_style_styl__WEBPACK_IMPORTED_MODULE_33___default.a["Floating-label-active"]:_style_styl__WEBPACK_IMPORTED_MODULE_33___default.a["Floating-label"],ref:function(e){return t.floatingLabel=e}},this.props.placeholder),React.createElement(react_textarea_autosize__WEBPACK_IMPORTED_MODULE_9___default.a,{ref:function(e){return t.textarea=e},"aria-label":"Enter a message",className:this.getTextAreaClassName(),disabled:this.props.disabled,minRows:this.props.minRows,maxRows:this.props.maxRows,tabIndex:1e3,size:this.props.size,autoFocus:this.props.autoFocus,onChange:this.handleInputChange,onFocus:this.handleFocus,onBlur:this.handleBlur,onMouseDown:this.props.onInputMouseDown,onKeyDown:this.onKeyDown,style:this.state.focus||this.textarea&&this.textarea.value?{paddingTop:"24px"}:{}})),React.createElement("div",{className:_style_styl__WEBPACK_IMPORTED_MODULE_33___default.a["Composer-footer"]},React.createElement(_ComposerMenu__WEBPACK_IMPORTED_MODULE_13__.a,{color:this.props.activeColor,floating:this.props.isEmbeddedMessenger,allowAttachments:null!=this.props.conversation&&this.props.allowFileUpload,allowEmoji:null!=this.props.conversation,disabled:this.props.disabled,onAttachmentClick:this.handleAttachmentIconClick,onEmojiClick:this.handleEmojiMenuButtonClick,emojiDrawerActive:this.state.emojiDrawerActive}),React.createElement("div",{className:"footer"},React.createElement(react_addons_css_transition_group__WEBPACK_IMPORTED_MODULE_11___default.a,{transitionName:"footer",transitionEnterTimeout:150,transitionLeaveTimeout:150}),this.getShouldRenderEnterPrompt()&&this.renderEnterPrompt(),!this.getShouldRenderEnterPrompt()&&this.props.showBranding&&this.renderBranding())),React.createElement("div",null,React.createElement(react_addons_css_transition_group__WEBPACK_IMPORTED_MODULE_11___default.a,{transitionName:"footer",transitionEnterTimeout:150,transitionLeaveTimeout:150}),(Object(lodash_es_get__WEBPACK_IMPORTED_MODULE_32__.a)(this.props,"currentConsentPolicy.privacyPolicyAlwaysOn")||this.props.isEmbeddedMessenger)&&s&&React.createElement("div",{className:"privacy-footer"},React.createElement("a",{href:s,target:"_blank",className:"privacy-footer-link",rel:"noopener noreferrer"},n||"Privacy Policy"))),React.createElement(_Drawer__WEBPACK_IMPORTED_MODULE_14__.a,{isOpen:this.state.emojiDrawerActive},React.createElement(_EmojiPicker__WEBPACK_IMPORTED_MODULE_15__.a,{onSelect:this.handleEmojiSelect}))))}},{key:"handleInputChange",value:function(e){var t=e.target.value;return this.setState({input:t}),this.props.onChange&&this.props.onChange(t)}},{key:"handleFocus",value:function(){return this.setState({focus:!0,emojiDrawerActive:!1}),this.props.actions.bootstrapEndUser(),this.props.onFocus&&this.props.onFocus()}},{key:"handleBlur",value:function(){return this.setState({focus:!1}),this.props.onBlur&&this.props.onBlur()}},{key:"handleComposerMouseDown",value:function(e){return"function"==typeof this.props.onInputMouseDown?this.props.onInputMouseDown(e):void 0}},{key:"handleAttachmentIconClick",value:function(){return this.dropZone.open()}},{key:"handleEmojiMenuButtonClick",value:function(){return this.setState(function(e){return{emojiDrawerActive:!e.emojiDrawerActive}})}},{key:"handleEmojiSelect",value:function(e){return this.setState(function(t){var r=t.input+" "+e.native+" ";return this.textarea.value=r,{emojiDrawerActive:!1,input:r}})}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),!this.props.disabled){var t=this.textarea.value.trim();return t&&"success"===this.props.connectionStatus?(this.setState({input:"",emojiDrawerActive:!1}),this.textarea.value="",this.props.onSubmit&&this.props.onSubmit(Object(utils_linkify__WEBPACK_IMPORTED_MODULE_10__.a)(t))):void 0}}},{key:"render",value:function(){var e=this;return null!=this.props.conversation&&this.props.allowFileUpload?React.createElement(react_dropzone__WEBPACK_IMPORTED_MODULE_28___default.a,{ref:function(t){return e.dropZone=t},className:classnames__WEBPACK_IMPORTED_MODULE_8___default()(_style_styl__WEBPACK_IMPORTED_MODULE_33___default.a["Composer-dropzone"],{floating:this.props.isEmbeddedMessenger,mobile:Object(utils_UserAgentHelpers__WEBPACK_IMPORTED_MODULE_31__.d)()}),activeClassName:"active",activeStyle:{backgroundColor:Object(utils_color__WEBPACK_IMPORTED_MODULE_27__.d)(this.props.activeColor,.05)},disableClick:!0,disablePreview:!0,onDrop:this.props.onUploadAttachment,style:this.props.isEmbeddedMessenger&&!Object(utils_UserAgentHelpers__WEBPACK_IMPORTED_MODULE_31__.d)()?this.props.continuousBackgroundGradient:null},this.renderComposer()):this.renderComposer()}}]),Composer}(Component);Composer.initClass();var mapStateToProps=function(e){return{currentConsentPolicy:Widget_modules_Consent_selectors__WEBPACK_IMPORTED_MODULE_22__.d(e),showBranding:Object(Widget_modules_Bootstrap_selectors__WEBPACK_IMPORTED_MODULE_21__.m)(e),connectionStatus:Object(Widget_selectors__WEBPACK_IMPORTED_MODULE_23__.i)(e),isAway:!Object(Widget_selectors_bootstrap__WEBPACK_IMPORTED_MODULE_24__.k)(e),allowFileUpload:Object(Widget_modules_Bootstrap_selectors__WEBPACK_IMPORTED_MODULE_21__.b)(e),hasConversationRatingGate:Object(Widget_modules_rating_selectors__WEBPACK_IMPORTED_MODULE_25__.b)(e),isEmbeddedMessenger:Object(Widget_modules_UI_selectors__WEBPACK_IMPORTED_MODULE_26__.g)(e),continuousBackgroundGradient:Object(Widget_modules_UI_selectors__WEBPACK_IMPORTED_MODULE_26__.c)(e)}},mapDispatchToProps=function(e){return{actions:Object(redux__WEBPACK_IMPORTED_MODULE_7__.bindActionCreators)({bootstrapEndUser:Widget_modules_Bootstrap__WEBPACK_IMPORTED_MODULE_20__.a},e)}};__webpack_exports__.a=recompose_compose__WEBPACK_IMPORTED_MODULE_18___default()(_messages__WEBPACK_IMPORTED_MODULE_29__.a,Object(Widget_containers_withTheme__WEBPACK_IMPORTED_MODULE_19__.a)(["activeColor"]),Object(react_redux__WEBPACK_IMPORTED_MODULE_6__.connect)(mapStateToProps,mapDispatchToProps))(Composer)}).call(this,__webpack_require__(13))},1399:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="21" height="5" viewBox="0 0 21 5"><g fill="currentColor" fill-rule="evenodd"><circle cx="18.5" cy="2.5" r="2.5"></circle><circle cx="10.5" cy="2.5" r="2.5"></circle><circle cx="2.5" cy="2.5" r="2.5"></circle></g></svg>'},1403:function(e,t,r){"use strict";var s=r(127),n=r.n(s),o=r(120),a=r.n(o),i=r(167),_=r.n(i),c=r(166),l=r.n(c),p=r(165),u=r.n(p),d=r(13),m=r.n(d),h=r(1374),E=r.n(h),f=r(1409),P=r(192),g=r(12),M=r(85),C=function(e){return Object(g.a)(e,["Attachment","status"])===M.d},b=r(1383),v=function(e){function t(e){a()(this,t);var r=l()(this,(t.__proto__||n()(t)).call(this,e));return r.renderMessage=function(){var e=r.props,t=e.isUploadInProgress,s=e.isUploadFailed,n=e.isSizeFailure,o=e.uploadNewFile;return t?m.a.createElement("div",{className:"attachment-upload-progress-message"},"Uploading attachment…"):s?m.a.createElement("div",{className:"attachment-upload-progress-message"},n?"Attachment upload failed because the file is larger than 25MB":"Attachment upload failed.",m.a.createElement("button",{className:"attachment-retry",onClick:o},"Upload new file")):void 0},r.renderActions=function(){return m.a.createElement("div",{className:"attachment-upload-progress-actions"},m.a.createElement("button",{className:"attachment-upload-progress-action dismiss",onClick:function(){return r.setState({dismissed:!0})}},m.a.createElement(E.a,{src:b})))},r.state={dismissed:!1},r}return u()(t,e),_()(t,[{key:"componentWillReceiveProps",value:function(e){this.props.isUploadInProgress===e.isUploadInProgress&&this.props.fileUploadFailed===e.fileUploadFailed||this.setState({dismissed:!1})}},{key:"render",value:function(){var e=this.props,t=e.isUploadInProgress,r=e.isUploadFailed;return!t&&!r||this.state.dismissed?null:m.a.createElement("div",{className:f.AttachmentUploadProgress},m.a.createElement("div",{className:r?"attachment-upload-failed":"attachment-upload-progress"},this.renderMessage(),this.renderActions()))}}]),t}(d.Component);t.a=Object(P.connect)(function(e){return{isUploadInProgress:function(e){return Object(g.a)(e,["Attachment","status"])===M.e}(e),isUploadFailed:C(e),isSizeFailure:function(e){return C&&"AttachmentSizeException"===Object(g.a)(e,["Attachment","error","responseData","message"])}(e)}})(v)},1407:function(e,t,r){e.exports={"Floating-label":"_3BEIiQ9DCWq97rtRUktK9","Floating-label-active":"KqiU_toLJ3BghlE7F1xZd",hasActiveBorderOnFocus:"QThEDgEDT1-11mx5ScY8H","Composer-textarea":"_1eY_aSnr3MDhZqacV8fugZ","Composer-footer":"_3U7UDl0salhAfnh_5cngat",Branding:"_3cFC78pAuQUUGXB0th8eZP","Composer-dropzone":"_1LQ2wLU8AfB3847pycmdlu"}},1409:function(e,t,r){e.exports={AttachmentUploadProgress:"_33TDt3NvX83jBkNZLft_M6"}},1411:function(e,t,r){e.exports={SendButton:"qrX9HNxW57u0nYVlv67Fb"}},1412:function(e,t,r){"use strict";(function(e){var s=r(127),n=r.n(s),o=r(120),a=r.n(o),i=r(167),_=r.n(i),c=r(166),l=r.n(c),p=r(165),u=r.n(p),d=r(13),m=r(1374),h=r.n(m),E=r(148),f=r(168),P=r(1381),g=r(1411),M=r.n(g),C=r(1387),b=function(t){function r(){var e,t,s,o;a()(this,r);for(var i=arguments.length,_=Array(i),c=0;c<i;c++)_[c]=arguments[c];return t=s=l()(this,(e=r.__proto__||n()(r)).call.apply(e,[this].concat(_))),s.state={hover:!1},s.handleMouseEnter=function(){s.setState({hover:!0})},s.handleMouseLeave=function(){s.setState({hover:!1})},o=t,l()(s,o)}return u()(r,t),_()(r,[{key:"render",value:function(){var t=this.props,r=t.isAway,s=t.onClick;return e.createElement("button",{className:M.a.SendButton,style:{color:this.color},onClick:s,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},e.createElement(h.a,{className:"flex",src:C}),e.createElement("span",null,r?e.createElement(E.b,P.b.composerLeaveMessage):e.createElement(E.b,P.b.composerSendMessage)))}},{key:"color",get:function(){var e=this.props.color;if(e)return this.state.hover?Object(f.a)(e,.2):e}}]),r}(d.Component);b.propTypes={color:d.PropTypes.string.isRequired,isAway:d.PropTypes.bool,onClick:d.PropTypes.func},b.defaultProps={isAway:!1},t.a=b}).call(this,r(13))},1413:function(e,t,r){"use strict";(function(e){var s=r(127),n=r.n(s),o=r(120),a=r.n(o),i=r(167),_=r.n(i),c=r(166),l=r.n(c),p=r(165),u=r.n(p),d=r(13),m=r(192),h=r(42),E=r(369),f=r.n(E),P=r(148),g=r(1388),M=r(63),C=r(4),b=r(149),v=function(t){var r=t.className,s=t.style,n=t.children;return e.createElement("div",{className:f()(r,"flex"),style:s},n)},y=function(t){var r=t.className,s=t.style;return e.createElement(v,{className:r,style:s},e.createElement(P.b,b.a.connected))},O=function(t){var r=t.className,s=t.style,n=t.dotSize;return e.createElement(v,{className:r,style:s},e.createElement(P.b,b.a.connecting),e.createElement(g.a,{size:n,color:"#ccc",style:{marginLeft:"3px"}}))},T=function(t){var r=t.className,s=t.style,n=t.onRetryClick;return e.createElement(v,{className:r,style:s},e.createElement(P.b,b.a.connectionFailed),e.createElement("a",{style:{marginLeft:"4px"},onClick:n},e.createElement(P.b,b.a.connectionRetry)))},D=function(t){function r(){var e,t,s,o;a()(this,r);for(var i=arguments.length,_=Array(i),c=0;c<i;c++)_[c]=arguments[c];return t=s=l()(this,(e=r.__proto__||n()(r)).call.apply(e,[this].concat(_))),s.handleRetryClick=function(){s.props.actions.bootstrapEndUser()},o=t,l()(s,o)}return u()(r,t),_()(r,[{key:"render",value:function(){var t=this.props,r=t.className,s=t.style,n=t.status,o=t.dotSize;return"success"===n?e.createElement(y,{className:r,style:s}):"pending"===n?e.createElement(O,{className:r,style:s,dotSize:o}):e.createElement(T,{className:r,style:s,onRetryClick:this.handleRetryClick})}}]),r}(d.Component);D.propTypes={className:d.PropTypes.string,style:d.PropTypes.object,status:d.PropTypes.oneOf(["pending","failure","success"]).isRequired,dotSize:d.PropTypes.oneOf(["extra-small","small","medium"]),actions:d.PropTypes.shape({bootstrapEndUser:d.PropTypes.func.isRequired})},D.defaultProps={dotSize:"extra-small"};t.a=Object(m.connect)(function(e){return{status:Object(C.i)(e)}},function(e){return{actions:Object(h.bindActionCreators)({bootstrapEndUser:M.a},e)}})(D)}).call(this,r(13))},1415:function(e,t,r){e.exports={EmojiPicker:"_6UgR56zBr73EKEfK2r-A9"}},1416:function(e,t,r){"use strict";r.d(t,"a",function(){return b});var s=r(5),n=r.n(s),o=r(38),a=r.n(o),i=r(455),_=r.n(i),c=r(127),l=r.n(c),p=r(120),u=r.n(p),d=r(167),m=r.n(d),h=r(166),E=r.n(h),f=r(165),P=r.n(f),g=r(13),M=r.n(g),C=function(e){function t(){u()(this,t);var e=E()(this,(t.__proto__||l()(t)).apply(this,arguments));return e.state={isLoaded:!1},e}return P()(t,e),m()(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.load()}},{key:"componentDidUpdate",value:function(e){if(this.props.modules===e.modules)return null;this.load()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"load",value:function(){var e=this;this.setState({isLoaded:!1});var t=this.props.modules,r=_()(t);a.a.all(r.map(function(e){return t[e]()})).then(function(e){return r.reduce(function(t,r,s){return t[r]=e[s],t},{})}).then(function(t){if(!e._isMounted)return null;e.setState({modules:t,isLoaded:!0})})}},{key:"render",value:function(){return this.state.isLoaded?M.a.Children.only(this.props.children(this.state.modules)):null}}]),t}(M.a.Component);C.propTypes={children:M.a.PropTypes.func.isRequired};var b=function(e,t){return function(r){return M.a.createElement(C,{modules:t},function(t){return M.a.createElement(e,n()({},t,r))})}}},1417:function(e,t,r){"use strict";(function(e){var s=r(5),n=r.n(s),o=r(213),a=r.n(o),i=r(13),_=r(1416),c=r(1415),l=r.n(c),p=function(t){var r=t.Picker,s=t.onSelect,o=a()(t,["Picker","onSelect"]);return e.createElement("div",{className:l.a.EmojiPicker},e.createElement(r,n()({color:"#333333",onClick:s,emojiSize:20,sheetSize:20,title:""},o)))};p.propTypes={onSelect:i.PropTypes.func},t.a=Object(_.a)(p,{Picker:function(){return r.e(20).then(function(){var e=r(1480);return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})}).then(function(e){return e.Picker})}})}).call(this,r(13))},1419:function(e,t,r){e.exports={Drawer:"_32On7MvQDqcYybZOg6WO19"}},1420:function(e,t,r){"use strict";(function(e){var s=r(13),n=r(1419),o=r.n(n),a=function(t){var r=t.isOpen,s=void 0!==r&&r,n=t.children;return e.createElement("div",{className:o.a.Drawer},s?n:null)};a.propTypes={isOpen:s.PropTypes.bool,children:s.PropTypes.node},t.a=a}).call(this,r(13))},1421:function(e,t){e.exports='<svg width="18" height="17" viewBox="0 0 18 17" xmlns="http://www.w3.org/2000/svg"><path d="M8.455 16.5c-.19 0-.378-.076-.522-.226-.29-.303-.29-.792 0-1.093l7.66-8.013c.57-.597.885-1.392.885-2.236 0-.844-.315-1.638-.886-2.235-1.18-1.233-3.097-1.232-4.275 0L2.433 11.99c-.5.525-.742 1.03-.715 1.502.026.46.303.815.467.985.275.29.573.41.908.364.42-.054.903-.356 1.398-.874l6.973-7.295c.288-.3.755-.3 1.043 0 .29.303.29.793 0 1.093l-6.97 7.296c-.74.773-1.5 1.215-2.26 1.314-.797.104-1.535-.175-2.135-.804-.537-.562-.856-1.267-.896-1.985-.054-.933.332-1.836 1.144-2.686l8.885-9.297c1.754-1.836 4.61-1.836 6.363 0 .85.888 1.318 2.07 1.318 3.328s-.468 2.44-1.318 3.33l-7.66 8.014c-.143.15-.332.226-.52.226z" fill-rule="evenodd"></path></svg>'},1423:function(e,t,r){e.exports={ComposerMenu:"I2Y_Gw71BZf3YTJx23Iu2",ComposerMenuItem:"_3S9isv8S9Biq6Z_VIUdDgW",Attachment:"_28Z4Rplsugcrb8Zz8n36Ix",EmojiIcon:"_2JwaxVSnbRscs1uFN1uSnk",ComposerMenuItemActive:"_28uG9Lj5itx52NpBHEPpWR"}},1424:function(e,t,r){"use strict";(function(e){var s=r(7),n=r.n(s),o=r(13),a=r(369),i=r.n(a),_=r(1374),c=r.n(_),l=r(1423),p=r.n(l),u=r(1421),d=function(t){var r=t.color,s=t.floating,n=t.onClick,o=t.disabled;return e.createElement("button",{className:i()(p.a.Attachment,{floating:s}),style:{color:r},onClick:function(e){return!o&&n&&n(e)},disabled:o,"aria-label":"Send an attachment"},e.createElement(c.a,{className:"flex",src:u}))},m=function(t){var r=t.color,s=t.floating,n=t.onClick,o=t.disabled,a=t.width,_=void 0===a?18:a,c=t.height,l=void 0===c?18:c;return e.createElement("button",{"aria-label":"Add an Emoji to your conversation",className:i()(p.a.EmojiIcon,{floating:s}),style:{color:r},onClick:function(e){return!o&&n&&n(e)},disabled:o},e.createElement("svg",{preserveAspectRatio:"xMidYMid",viewBox:"0 0 24 24",style:{width:_,height:l}},e.createElement("path",{d:"M12 24C5.38 24 0 18.62 0 12S5.38 0 12 0s12 5.38 12 12-5.38 12-12 12zm0-22C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm0 18c-2.9 0-5.56-1.75-6.9-4.57-.24-.5-.03-1.1.47-1.33.5-.24 1.1-.03 1.33.47C7.9 16.67 9.86 18 12 18c2.15 0 4.1-1.3 5.1-3.43.23-.5.83-.7 1.33-.47.5.23.7.83.47 1.33C17.58 18.25 14.93 20 12 20zm4-8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm-8 0c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"})))},h=function(t){var r=t.isActive,s=void 0!==r&&r,o=t.children;return e.createElement("li",{className:i()(p.a.ComposerMenuItem,n()({},p.a.ComposerMenuItemActive,s))},o)},E=function(t){var r=t.color,s=t.floating,n=t.allowAttachments,o=t.allowEmoji,a=t.onAttachmentClick,i=t.onEmojiClick,_=t.emojiDrawerActive,c=t.disabled;return e.createElement("ul",{className:p.a.ComposerMenu},n&&e.createElement(h,null,e.createElement(d,{color:r,onClick:a,disabled:c,floating:s})),o&&e.createElement(h,{isActive:_},e.createElement(m,{color:r,onClick:i,disabled:c,floating:s})))};E.propTypes={color:o.PropTypes.string.isRequired,floating:o.PropTypes.bool,allowAttachments:o.PropTypes.bool,allowEmoji:o.PropTypes.bool,onAttachmentClick:o.PropTypes.func,onEmojiClick:o.PropTypes.func,emojiDrawerActive:o.PropTypes.bool},t.a=E}).call(this,r(13))},1425:function(e,t,r){"use strict";var s=r(1394);s.linkify.add("ftp:",null),t.a=function(e){if(""===e)return"";var t=0,r=[];(s.linkify.match(e)||[]).forEach(function(s){s.index>t&&r.push(document.createTextNode(e.substring(t,s.index)));var n=document.createElement("a");n.setAttribute("href",s.url),n.setAttribute("target","_blank"),n.textContent=s.text,r.push(n),t=s.lastIndex}),t<e.length&&r.push(document.createTextNode(e.substring(t)));var n=document.createElement("span");return r.forEach(function(e){n.appendChild(e)}),n.outerHTML}},1429:function(e,t,r){"use strict";var s=r(127),n=r.n(s),o=r(120),a=r.n(o),i=r(167),_=r.n(i),c=r(166),l=r.n(c),p=r(165),u=r.n(p),d=r(13),m=r.n(d),h=r(3),E=r(7),f=r.n(E),P=r(5),g=r.n(P),M=r(213),C=r.n(M),b=r(369),v=r.n(b),y=r(1390),O=r(1398),T=r(1446),D=r.n(T),A=function(e){var t=e.user,r=void 0===t?{}:t,s=e.backgroundColor;return m.a.createElement("div",{className:D.a.AvatarWrapper},m.a.createElement(y.a,{user:r,color:s,style:{borderColor:s},shape:"circle"}))};function w(e){var t=e.children,r=C()(e,["children"]);return m.a.createElement("div",g()({},r,{className:D.a.MenuItem}),t)}function k(e){var t=e.children,r=C()(e,["children"]);return m.a.createElement("div",g()({className:D.a.Menu},r),m.a.createElement("div",{className:D.a.MenuItems},d.Children.map(t,function(e){return m.a.createElement(w,null,e)})))}function R(e){var t=e.children;return d.Children.count(t)>0&&m.a.createElement("div",{className:D.a.AvatarsList},d.Children.toArray(t).reverse())}A.propTypes={backgroundColor:d.PropTypes.string,user:d.PropTypes.object},w.propTypes={children:d.PropTypes.node},k.propTypes={children:d.PropTypes.node},R.propTypes={children:d.PropTypes.node};var B=function(e){function t(){var e,r,s,o;a()(this,t);for(var i=arguments.length,_=Array(i),c=0;c<i;c++)_[c]=arguments[c];return r=s=l()(this,(e=t.__proto__||n()(t)).call.apply(e,[this].concat(_))),s.renderAvatar=function(e){var t=e.id,r=e.publicProfileUrl,n={user:e,backgroundColor:s.props.backgroundColor};return r?m.a.createElement("a",{key:t,href:r,target:"_blank"},m.a.createElement(A,n)):m.a.createElement(A,g()({key:t},n))},o=r,l()(s,o)}return u()(t,e),_()(t,[{key:"renderUserAvatars",value:function(){var e=this.props.users;return!e||e.isEmpty()?null:1!==e.size||Object(O.b)(e.first())||e.first().bot?m.a.createElement(R,null,e.map(this.renderAvatar)):null}},{key:"render",value:function(){var e=this.props,t=e.backgroundColor,r=e.foregroundColor,s=e.title,n=e.children,o=e.users,a=e.menu,i=o&&!o.isEmpty(),_=o&&o.size>1;return m.a.createElement("div",{className:v()(D.a.Container,f()({},D.a.MultiAvatars,_)),style:{backgroundColor:t,color:r}},(i||s)&&m.a.createElement("div",{className:D.a.Header},m.a.createElement("div",{className:D.a.HeaderContent},this.renderUserAvatars(),s&&m.a.createElement("div",{className:D.a.Title,style:{color:r}},s)),m.a.createElement(k,null,a)),m.a.createElement("div",{className:D.a.Body},n))}}]),t}(d.Component);B.propTypes={title:d.PropTypes.node,message:d.PropTypes.node,menu:d.PropTypes.node,children:d.PropTypes.node,users:d.PropTypes.object,backgroundColor:d.PropTypes.string,foregroundColor:d.PropTypes.string},B.defaultProps={users:Object(h.List)()};var I=B,W=r(1374),L=r.n(W),U=r(1444),K=r.n(U),j=r(1399),N=r(1470),S={onClick:d.PropTypes.func};function x(e,t,r){e&&void 0===t&&(t=e,e=null);var s=function(e){var r=e.className,s=e.style,n=e.onClick,o=C()(e,["className","style","onClick"]);return m.a.createElement(L.a,g()({},o,{style:s,className:v()(K.a.Icon,r),element:"div",onClick:n,src:t}))};return e&&(s.displayName="Icon("+e+")"),s.defaultProps=g()({},r),s.propTypes=g()({},S),s}var q=x("Profile",j),z=x("Dismiss",N,{className:K.a.DismissIcon}),F=q,H=r(1442),G=r(1439),V=r.n(G),Y=function(e){function t(){return a()(this,t),l()(this,(t.__proto__||n()(t)).apply(this,arguments))}return u()(t,e),_()(t,[{key:"renderMenu",value:function(){var e=this.props,t=e.showProfileIcon,r=e.showDismissIcon,s=e.onProfileClick,n=e.onDismissClick;return[t&&m.a.createElement(F,{key:"profile",onClick:s}),r&&m.a.createElement(z,{key:"dismiss",onClick:n})].filter(Boolean)}},{key:"render",value:function(){var e=this.props,t=e.title,r=e.users,s=e.message,n=e.backgroundColor,o=e.foregroundColor,a=e.children;return m.a.createElement("div",{className:V.a.Container,role:"dialog","aria-label":"Chat with Drift"},m.a.createElement(H.a,null,m.a.createElement(I,{title:t,users:r,backgroundColor:n,foregroundColor:o,menu:this.renderMenu()},s),a))}}]),t}(d.Component);Y.propTypes={title:d.PropTypes.node,message:d.PropTypes.node,children:d.PropTypes.node,users:d.PropTypes.object,backgroundColor:d.PropTypes.string,foregroundColor:d.PropTypes.string,showProfileIcon:d.PropTypes.bool,onProfileClick:d.PropTypes.func,showDismissIcon:d.PropTypes.bool,onDismissClick:d.PropTypes.func},Y.defaultProps={users:Object(h.List)()};t.a=Y},1433:function(e,t,r){"use strict";var s=r(127),n=r.n(s),o=r(120),a=r.n(o),i=r(167),_=r.n(i),c=r(166),l=r.n(c),p=r(165),u=r.n(p),d=r(13),m=r.n(d),h=r(192),E=r(258),f=r.n(E),P=r(10),g=r(22),M=r(1381),C=r(1378),b=r(1454),v=r.n(b),y=function(e){function t(){return a()(this,t),l()(this,(t.__proto__||n()(t)).apply(this,arguments))}return u()(t,e),_()(t,[{key:"render",value:function(){var e=this.props,t=e.autoFocus,r=e.onMouseDown,s=e.style,n=e.showBranding,o=e.utmContent;return m.a.createElement("div",{className:v.a.MobileComposer,onMouseDown:r,style:s},m.a.createElement("input",{className:v.a.Input,autoFocus:t}),n&&m.a.createElement(C.a,{utmContent:o}))}}]),t}(d.Component);y.propTypes={placeholder:d.PropTypes.string,autoFocus:d.PropTypes.bool,onMouseDown:d.PropTypes.func,style:d.PropTypes.object,showBranding:d.PropTypes.bool,isAway:d.PropTypes.bool},y.defaultProps={isAway:!1,placeholder:"Type your message…",autoFocus:!1,showBranding:!1};var O=y,T=function(e){function t(){return a()(this,t),l()(this,(t.__proto__||n()(t)).apply(this,arguments))}return u()(t,e),_()(t,[{key:"render",value:function(){return m.a.createElement(O,this.props)}}]),t}(d.Component);t.a=f()(Object(h.connect)(function(e){return{isAway:!Object(P.k)(e),showBranding:Object(g.m)(e)}}),M.a)(T)},1437:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var s=r(13),n=r.n(s),o=r(3);function a(e){var t=e.users,r=e.separator,s=Object(o.List)(t);return n.a.createElement("div",null,s.map(function(e){var t=e.id,r=e.name,s=e.publicProfileUrl;return s?n.a.createElement("a",{key:t,href:s,target:"_blank"},r):n.a.createElement("span",{key:t},r)}).interleave(s.map(function(e,t){return n.a.createElement("span",{key:"sep-"+t},r)})).butLast())}a.propTypes={users:s.PropTypes.object,separator:s.PropTypes.string},a.defaultProps={users:Object(o.List)(),separator:", "}},1439:function(e,t,r){e.exports={Container:"_1_OkBQ8wzMdsYC_9TqA1_1"}},1441:function(e,t,r){e.exports={WelcomeMessageCard:"_1b8HzQM8nmpP_VSMq7OnIz"}},1442:function(e,t,r){"use strict";(function(e){r.d(t,"a",function(){return l});var s=r(5),n=r.n(s),o=r(213),a=r.n(o),i=r(13),_=r(1441),c=r.n(_);function l(t){var r=t.children,s=a()(t,["children"]);return e.createElement("div",n()({className:c.a.WelcomeMessageCard},s),r)}l.propTypes={children:i.PropTypes.node}}).call(this,r(13))},1444:function(e,t,r){e.exports={Icon:"m9jUk9iUHZGwBFKeSwsl6",DismissIcon:"_1vgXyPPHy0LhWlp5E8zmnn"}},1446:function(e,t,r){e.exports={Container:"_3rFYHyeAg3meOhdz2al1n-",Header:"nU8iBIlb3Pnpdfah8T0xS",Body:"dp2Cn7rCPUkibY9nD2WFj",Title:"_3LgOTzOP49NkcKVg-VuAeA",Menu:"_1t1gRyGlfXe220eYtsZnFt",MenuItems:"_1cDOQdBdNV_UGt3VZw4UNU",MenuItem:"_1LsV8HQQ8Vayk_EI_Q5g-p",HeaderContent:"_1X08QP3Susvzc8-3v9gfn_",AvatarsList:"_26rE0K5J_Yqs69s-astsZ4",MultiAvatars:"_3lC_SnrooeO6smEP1P4Gig",AvatarWrapper:"_35gbWwd6NmCpOxwxnmjUkQ"}},1448:function(e,t,r){e.exports={TransitionGroup:"_1bqdrLsJSZt9zFJWH9azSb",Container:"_30us5AS2WYfPMXSfbW1-5E",WidgetButtonContainer:"BPdyB1KwQdtQbyI2ko2_3",WidgetButton:"_1xDOR96s4kIDrWxVqKC3m0"}},1449:function(e,t,r){"use strict";(function(e){var s=r(127),n=r.n(s),o=r(120),a=r.n(o),i=r(167),_=r.n(i),c=r(166),l=r.n(c),p=r(165),u=r.n(p),d=r(13),m=r(1396),h=r.n(m),E=r(1380),f=r.n(E),P=r(1392),g=r(1448),M=r.n(g),C=function(t){function r(){var e,t,s,o;a()(this,r);for(var i=arguments.length,_=Array(i),c=0;c<i;c++)_[c]=arguments[c];return t=s=l()(this,(e=r.__proto__||n()(r)).call.apply(e,[this].concat(_))),s.handleResize=function(e){var t=e.width,r=e.height;s.props.onResize&&s.props.onResize({width:t,height:r})},o=t,l()(s,o)}return u()(r,t),_()(r,[{key:"render",value:function(){var t=this.props,r=t.children,s=t.onClick;return e.createElement(h.a,{onMeasure:this.handleResize,whitelist:["width","height"]},e.createElement("div",{className:M.a.Container},e.createElement(f.a,{className:M.a.TransitionGroup,transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:220,transitionEnterTimeout:220,transitionLeaveTimeout:220},e.createElement("div",{key:"widget-button",className:M.a.WidgetButtonContainer},e.createElement(P.a,{className:M.a.WidgetButton,iconType:r?"DISMISS":void 0,onClick:s})),r)))}}]),r}(d.PureComponent);C.propTypes={children:d.PropTypes.node,onResize:d.PropTypes.func,onClick:d.PropTypes.func},t.a=C}).call(this,r(13))},1451:function(e,t,r){e.exports={Container:"_2ngXYtlcHXA-EjBwuz_RKI",Transition:"_3KIigMno8L7h1L-RI5I_KX",WidgetButton:"_364Vk0R65B1GXViJwyA9fM"}},1452:function(e,t,r){"use strict";(function(e){var s=r(127),n=r.n(s),o=r(120),a=r.n(o),i=r(167),_=r.n(i),c=r(166),l=r.n(c),p=r(165),u=r.n(p),d=r(13),m=r(1396),h=r.n(m),E=r(1392),f=r(1380),P=r.n(f),g=r(1451),M=r.n(g),C=function(t){function r(){var e,t,s,o;a()(this,r);for(var i=arguments.length,_=Array(i),c=0;c<i;c++)_[c]=arguments[c];return t=s=l()(this,(e=r.__proto__||n()(r)).call.apply(e,[this].concat(_))),s.handleResize=function(e){var t=e.width,r=e.height;s.props.onResize&&s.props.onResize({width:t,height:r})},o=t,l()(s,o)}return u()(r,t),_()(r,[{key:"render",value:function(){var t=this.props,r=t.children,s=t.onClick;return e.createElement(h.a,{onMeasure:this.handleResize,whitelist:["width","height"]},e.createElement("div",{className:M.a.Container},e.createElement(P.a,{className:M.a.Transition,style:{width:"100%"},transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:220,transitionEnterTimeout:220,transitionLeaveTimeout:220},r),e.createElement(E.a,{buttonId:this.props.buttonId,ariaMessage:this.props.ariaMessage,ariaHasPopup:this.props.ariaHasPopup,className:M.a.WidgetButton,iconType:r?"DISMISS":void 0,onClick:s})))}}]),r}(d.PureComponent);C.propTypes={children:d.PropTypes.node,onResize:d.PropTypes.func,onClick:d.PropTypes.func,ariaMessage:d.PropTypes.string,ariaHasPopup:d.PropTypes.string},t.a=C}).call(this,r(13))},1454:function(e,t,r){e.exports={MobileComposer:"_2Mj-GUkNW-VFx-Y8vO8iBU",Input:"_3mpwY9rd_nsVcik0oXWuzA"}},1814:function(e,t,r){"use strict";r.r(t);var s=r(7),n=r.n(s),o=r(127),a=r.n(o),i=r(120),_=r.n(i),c=r(167),l=r.n(c),p=r(166),u=r.n(p),d=r(165),m=r.n(d),h=r(13),E=r.n(h),f=r(1394),P=r.n(f),g=r(258),M=r.n(g),C=r(452),b=r(192),v=r(42),y=r(3),O=r(1391),T=r(1433),D=r(1377),A=r(1452),w=r(1449),k=r(1429),R=r(1437),B=r(32),I=r(104),W=r(45),L=r(22),U=r(10),K=r(69),j=r(83),N=r(39),S=r(105),x=r(466),q=r(214),z=r(128),F=function(e){function t(){var e,r,s,o;_()(this,t);for(var i=arguments.length,c=Array(i),l=0;l<i;l++)c[l]=arguments[l];return r=s=u()(this,(e=t.__proto__||a()(t)).call.apply(e,[this].concat(c))),s.handleResize=function(e){var t=e.height;s.props.actions.iframeOverrideSize({height:t+"px"})},s.handleClick=function(){s.props.welcomeMessageActive?s.props.actions.dismissWelcomeMessage():s.props.actions.openChat({autoFocus:!0})},s.getCalloutMessage=function(){return s.props.welcomeMessageActive?"Close the Message Area":"Open the Message Area"},s.handleInputMouseDown=function(e){Object(I.b)()&&(e.preventDefault(),s.props.actions.dismissWelcomeMessage(),s.props.actions.goToNewConversation({sentWelcomeMessage:!0}))},s.handleProfileClick=function(){s.props.actions.hideWelcomeMessage(),s.props.actions.goToConversationList()},s.handleSubmit=function(e){var t;s.props.actions.dismissWelcomeMessage(),s.props.actions.createConversation({body:e,attributes:(t={},n()(t,B.g,!0),n()(t,"isFirstPopup",s.props.isFirstPopup),n()(t,"isTriggeredFromAPI",s.props.isTriggeredFromAPI),n()(t,"onlineReason",s.props.onlineReason),n()(t,"preMessages",[{body:s.linkifiedMessageContent,sender:s.props.sender,senders:s.props.users}]),t)})},o=r,u()(s,o)}return m()(t,e),l()(t,[{key:"componentWillMount",value:function(){this.props.welcomeMessageActive&&this.props.actions.trackImpression({view:z.e.WELCOME_MESSAGE_COMPOSER})}},{key:"componentWillReceiveProps",value:function(e){!this.props.welcomeMessageActive&&e.welcomeMessageActive&&this.props.actions.trackImpression({view:z.e.WELCOME_MESSAGE_COMPOSER})}},{key:"renderMessage",value:function(){var e=this;return E.a.createElement(P.a,{ref:function(t){e._bodyNode=t},properties:{target:"_blank",rel:"noopener noreferrer nofollower"}},this.props.message)}},{key:"renderComposer",value:function(){var e=z.e.WELCOME_MESSAGE_COMPOSER;return Object(I.b)()?E.a.createElement(T.a,{style:{borderRadius:"0"},onMouseDown:this.handleInputMouseDown,utmContent:e}):E.a.createElement(O.a,{size:"medium",variant:"minimal",minRows:2,maxRows:5,autoFocus:this.props.shouldAutoFocusComposer,onSubmit:this.handleSubmit,onInputMouseDown:this.handleInputMouseDown,hasActiveBorderOnFocus:!1,utmContent:e})}},{key:"renderTitle",value:function(){var e=this.props,t=e.organizationName,r=e.users;return!r||r.isEmpty()||1===r.size&&!r.first().name||r.every(function(e){return!e.name})?E.a.createElement("span",null,t):E.a.createElement(R.a,{users:r})}},{key:"renderWelcomeMessage",value:function(){if(!this.props.welcomeMessageActive)return null;var e=this.props,t=e.backgroundColor,r=e.foregroundColor,s=e.users,n=e.showProfileIcon;return E.a.createElement(k.a,{message:this.renderMessage(),title:this.renderTitle(),users:s,backgroundColor:t,foregroundColor:r,showProfileIcon:n,onProfileClick:this.handleProfileClick,showDismissIcon:Object(I.b)(),onDismissClick:this.handleClick},this.renderComposer())}},{key:"render",value:function(){var e=Object(I.b)()?w.a:A.a;return E.a.createElement(e,{buttonId:this.props.welcomeMessageActive?"widgetCloseButton":void 0,ariaMessage:this.getCalloutMessage(),ariaHasPopup:this.props.welcomeMessageActive?"false":"dialog",onResize:this.handleResize,onClick:this.handleClick},this.renderWelcomeMessage())}},{key:"linkifiedMessageContent",get:function(){return Object(C.findDOMNode)(this._bodyNode).innerHTML}}]),t}(h.Component);F.propTypes={welcomeMessageActive:h.PropTypes.bool,sender:h.PropTypes.object,users:h.PropTypes.object,organizationName:h.PropTypes.string,backgroundColor:h.PropTypes.string,foregroundColor:h.PropTypes.string,showProfileIcon:h.PropTypes.bool,onProfileClick:h.PropTypes.func,shouldAutoFocusComposer:h.PropTypes.bool,isFirstPopup:h.PropTypes.bool,isTriggeredFromAPI:h.PropTypes.bool,actions:h.PropTypes.shape({showWelcomeMessage:h.PropTypes.func.isRequired,hideWelcomeMessage:h.PropTypes.func.isRequired,dismissWelcomeMessage:h.PropTypes.func.isRequired,openChat:h.PropTypes.func.isRequired,openSidebar:h.PropTypes.func.isRequired,iframeOverrideSize:h.PropTypes.func.isRequired,createConversation:h.PropTypes.func.isRequired,goToConversationList:h.PropTypes.func.isRequired,goToNewConversation:h.PropTypes.func.isRequired})},F.defaultProps={users:Object(y.List)()};t.default=M()(Object(D.a)(["activeColor","backgroundColor","foregroundColor"]),Object(b.connect)(function(e){return{welcomeMessageActive:e.WelcomeMessage.active,shouldAutoFocusComposer:e.WelcomeMessage.autoFocus,showProfileIcon:!Object(N.c)(e).isEmpty(),message:Object(S.j)(e),sender:Object(S.g)(e),users:Object(S.h)(e),isFirstPopup:Object(x.a)(e),isTriggeredFromAPI:Object(x.b)(e),organizationName:Object(L.k)(e),onlineReason:Object(U.c)(e)}},function(e){return{actions:Object(v.bindActionCreators)({showWelcomeMessage:j.showWelcomeMessage,hideWelcomeMessage:j.hideWelcomeMessage,dismissWelcomeMessage:j.dismissWelcomeMessage,createConversation:W.a,openChat:K.openChat,openSidebar:K.openSidebar,goToConversationList:K.goToConversationList,goToNewConversation:K.goToNewConversation,iframeOverrideSize:K.iframeOverrideSize,trackImpression:q.c},e)}}))(F)}}]);